### 数据一致性与事务的区别：
    事务一般包括多次修改， 数据一致性一般表示只有一个修改, 数据一致性包含事务。 

### 数据一致性同步：
1. Master-Slave
    - 读写均由Master负责
    - 异步：周期性pull 或 push
    - 同步：Mater先修改，然后同步修改slave。slave失败，a. 剔除slave（多个slave） b. master撤销，修改失败。 
    - Master宕机，接受数据丢失，则slave提供服务，否则暂停服务，等Master恢复。
2. Mater-Master
    - 均读写。
    - 数据同步一般是通过异步实现，
    - 同一数据修改，就是噩梦
3. NWR
4. Paxso
5. Raft
6. ZAB

### 分布式事务
1. 2PC(分布式事务的标准实现方式)：
	- 阶段一、提交事务请求
		- 协调者发起操作，执行者执行事务，并将Undo、Redo信息写入日志，并返回执行事务请求是否成功的消息。
		- 问题：
            参与者未接收到请求或者协调者未接收到回应，可以重试或者rollback 失败。
	- 阶段二、执行事务提交
		- 当所有执行者返回消息同意时，发送commit请求OrRollback。执行者完成提交操作或G撤销请求，释放资源，返回否成功的消息
		- 协调者接受消息之后，关闭事务。
		- 问题：
			参与者未接收到请求或者协调者未接收到回应，重试或者把失败的剔除。
	- 问题：
		- 同步阻塞，必然！
		- 单点故障：协调者发生故障，参与者一直阻塞下去。可以设置超时，rollback。
		- 数据不一致：协调者发送commit请求之后，发生局部网络异常，只有部分参与者提交commit请求，便出现不一致现象。解决方案：剔除未成功的参与者
		- 无法解决的问题：协调者发出未发出commit或发出commit之后，宕机，所有参与者
2. 3PC
	- 在进行事务请求前，先进行询问。
	- 参与者在准备提交时，如果发生timeout或者协调者宕机等，则执行commit，造成数据不一致。
